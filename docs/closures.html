<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="description" content="An Introduction to Closures in JavaScript.">
<meta name="author" content="Introduction to JavaScript">
<title>JavaScript Closures</title>
<style>
@import url(https://fonts.googleapis.com/css?family=Varela+Round|Open+Sans:400italic,600italic,400,600|Ubuntu+Mono:400);
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* Home Depot Colors */
.homedepotorange { color: #f96302; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Open Sans", sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #ad4501; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #943b01; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #fe904a; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Varela Round", sans-serif; font-weight: 400; font-style: normal; color: #f96302; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #febf96; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Varela Round", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #ad4501; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #f96302; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #e05902; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Open Sans", sans-serif; font-size: 1rem; font-style: italic; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: rgba(0, 0, 0, 0.85); }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: initial; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Varela Round", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #ad4501; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #ad4501; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist > table tr > td:first-of-type img { max-width: initial; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.05em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #bb4a01; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

#header { margin-bottom: 4em; }
#header > h1 { border-bottom: none; margin-bottom: -28px; margin-top: 2em; }
#header span { color: rgba(249, 99, 2, 0.6); }
#header img { margin-left: -30px; margin-right: 20px; padding-right: 30px; border-right: 2px solid #ddd; }
#header #toc { padding-top: 2em; margin-bottom: -4em; }
#header .details { border-bottom: none; }

#toctitle { color: black; font-weight: normal; margin-top: 1.5em; }

#footer { background-color: #f96302; margin: 0 auto; padding: 0.5em; max-width: 100%; }

#footer-text { text-align: center; }

dt, th.tableblock, td.content, div.footnote { text-rendering: optimizeLegibility; }

h1, h2, p, td.content, span.alt { letter-spacing: -0.01em; }

p strong, td.content strong, div.footnote strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content, span.alt { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@media print { @page { margin: 1.25cm 0.75cm; }
  * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img, object, svg { page-break-inside: avoid; }
  thead { display: table-header-group; }
  svg { max-width: 100%; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  .sect1 { padding-bottom: 0 !important; }
  .sect1 + .sect1 { border: 0 !important; }
  #header > h1:first-child { margin-top: 1.25rem; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { background: none !important; padding: 0 0.9375em; }
  #footer-text { color: rgba(0, 0, 0, 0.6) !important; font-size: 0.9em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #49483e }
.listingblock .pygments, .listingblock .pygments code { background: #272822; color: #f8f8f2 }
.listingblock .pygments .tok-c { color: #75715e } /* Comment */
.listingblock .pygments .tok-err { color: #960050; background-color: #1e0010 } /* Error */
.listingblock .pygments .tok-k { color: #66d9ef } /* Keyword */
.listingblock .pygments .tok-l { color: #ae81ff } /* Literal */
.listingblock .pygments .tok-n { color: #f8f8f2 } /* Name */
.listingblock .pygments .tok-o { color: #f92672 } /* Operator */
.listingblock .pygments .tok-p { color: #f8f8f2 } /* Punctuation */
.listingblock .pygments .tok-ch { color: #75715e } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #75715e } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #75715e } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #75715e } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #75715e } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #75715e } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #f92672 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gi { color: #a6e22e } /* Generic.Inserted */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #75715e } /* Generic.Subheading */
.listingblock .pygments .tok-kc { color: #66d9ef } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #66d9ef } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #f92672 } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #66d9ef } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #66d9ef } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #66d9ef } /* Keyword.Type */
.listingblock .pygments .tok-ld { color: #e6db74 } /* Literal.Date */
.listingblock .pygments .tok-m { color: #ae81ff } /* Literal.Number */
.listingblock .pygments .tok-s { color: #e6db74 } /* Literal.String */
.listingblock .pygments .tok-na { color: #a6e22e } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #f8f8f2 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #a6e22e } /* Name.Class */
.listingblock .pygments .tok-no { color: #66d9ef } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #a6e22e } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #f8f8f2 } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #a6e22e } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #a6e22e } /* Name.Function */
.listingblock .pygments .tok-nl { color: #f8f8f2 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #f8f8f2 } /* Name.Namespace */
.listingblock .pygments .tok-nx { color: #a6e22e } /* Name.Other */
.listingblock .pygments .tok-py { color: #f8f8f2 } /* Name.Property */
.listingblock .pygments .tok-nt { color: #f92672 } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #f8f8f2 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #f92672 } /* Operator.Word */
.listingblock .pygments .tok-w { color: #f8f8f2 } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #ae81ff } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #ae81ff } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #ae81ff } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #ae81ff } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #ae81ff } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #e6db74 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #e6db74 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #e6db74 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #e6db74 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #e6db74 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #e6db74 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #ae81ff } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #e6db74 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #e6db74 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #e6db74 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #e6db74 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #e6db74 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #e6db74 } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #a6e22e } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #f8f8f2 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #f8f8f2 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #f8f8f2 } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #f8f8f2 } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #ae81ff } /* Literal.Number.Integer.Long */
</style>
<style>
    /* Home Depot Colors */
    .homedepotorange {
        color: #f96302;
    }

    .thd-logo-div {
        width: 100%;
        text-align: center;
    }

    .thd-logo-img {
        margin: auto !important;
        margin-top: 10px !important;
        padding: inherit  !important;
        border: 1px solid white !important;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        width: 52px;
    }

    .om-stacked-div {
        width: 100%;
        text-align: center;
        margin-top: 10px;
    }

    .om-stacked-img {
        margin: auto !important;
        margin-top: 10px !important;
        padding: inherit !important;
        border: none !important;
        width: 200px;
        text-align: center;
    }

    @media only screen and (min-width: 1280px) {
        #toc.toc2::before {
            margin-left: 30px;
        }
    }

    #toc.toc2 {
        color: #f96302;
        /* background-color: #2b3134; */
        /* background-color: #333; */
        padding: 0;
        background-image: linear-gradient(#333, #111);
    }

    #toc.toc2 a {
        color: #eee;
    }

    #toc.toc2 a:hover,
    #toc.toc2 a:focus {
        color: #ff7322;
    }

    #toc.toc2 #toctitle {
        text-align: center;
        color: #f96302;
        margin-top: 12px;
    }

    #toc.toc2 > ul {
        padding-left: 32px;
    }

    #header #toc {
        padding-top: 0;
    }

    .om-toc-container {
        background-color: lightgray;
        width: 100%;
        text-align: center;
    }
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1><span class="image"><a class="image" href="https://github.homedepot.com/OM-JavaScript"><img src="images/orange-method-sticker.png" alt="Orange Method" width="130" title="Orange Method"></a></span> JavaScript Closures</h1>
<div class="details">
<span id="author" class="author">Introduction to JavaScript</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Topics</div>
<ul class="sectlevel1">
<li><a href="#learning_objectives">1. Learning Objectives</a></li>
<li><a href="#what_are_closures">2. What are Closures</a>
<ul class="sectlevel2">
<li><a href="#class_discussion">2.1. Class Discussion</a></li>
</ul>
</li>
<li><a href="#storing_functions">3. Storing Functions</a></li>
<li><a href="#passing_functions_as_arguments">4. Passing Functions as Arguments</a>
<ul class="sectlevel2">
<li><a href="#returning_functions_remembering_scope">4.1. Returning Functions / Remembering Scope</a></li>
<li><a href="#lab_1_define_scope">4.2. Lab 1 - Define Scope</a></li>
</ul>
</li>
<li><a href="#an_object_oriented_approach_to_closure">5. An Object Oriented approach to closure</a></li>
<li><a href="#a_function_closure">6. A Function Closure</a></li>
<li><a href="#encapsulation">7. Encapsulation.</a>
<ul class="sectlevel2">
<li><a href="#a_code_example">7.1. A code example</a></li>
</ul>
</li>
<li><a href="#lab_2_scope_and_closure">8. Lab - 2 - Scope and Closure</a></li>
<li><a href="#summary">9. Summary</a></li>
<li><a href="#additional_references">10. Additional References</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An Introduction to Closures in JavaScript.</p>
</div>
<div class="paragraph">
<p><a href="index.html">Back to Introduction to JavaScript</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="learning_objectives">1. Learning Objectives</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Define what a closure is</p>
</li>
<li>
<p>Explain why closures are used</p>
</li>
<li>
<p>Write a function that uses a closure to control access to data</p>
</li>
<li>
<p>Explain why and from what we are trying to protect data</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what_are_closures">2. What are Closures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A closure is a function or object that has bindings to variables that were in scope at the time that the function or object was created.</p>
</div>
<div class="paragraph">
<p>These bindings are valid even when the function or object is operating outside of the original scope and thus it appears that the bindings are to variables that have since gone out of scope.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/escher.jpg" alt="escher"></span></p>
</div>
<div class="paragraph">
<p>A function or object is called a <em>closure</em> because it "closes around" some variables and functions. It&#8217;s like an envelope containing variables and functions. When you send that envelope around, it still contains bindings to all of the variables and functions that were in scope when it was created.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/inception.gif" alt="inception"></span></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Remember that:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We can pass functions around by putting them in variables or referencing them by name.</p>
</li>
<li>
<p>Functions can be passed in as arguments to other functions.</p>
</li>
<li>
<p>Functions can return other functions.</p>
</li>
<li>
<p>No matter how they are passed around, a function <em>remembers</em> the variables in scope at the time of it&#8217;s definition.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="class_discussion">2.1. Class Discussion</h3>
<div class="paragraph">
<p>Where have we seen examples of 1-3 (even possibly 4) in practice already?</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="storing_functions">3. Storing Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s quickly review storing functions in variables:</p>
</div>
<div class="listingblock">
<div class="title">sayHello</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5</div></td><td class="code"><span></span><span class="tok-kr">const</span> <span class="tok-nx">sayHello</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;hello!&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-nx">sayHello</span><span class="tok-p">();</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">greetByName</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">greet</span><span class="tok-p">(</span><span class="tok-nx">name</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-s2">&quot;hello &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">name</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kr">const</span> <span class="tok-nx">greetShane</span> <span class="tok-o">=</span> <span class="tok-nx">greet</span><span class="tok-p">(</span><span class="tok-s1">&#39;Shane&#39;</span><span class="tok-p">)</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">greetShane</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">add</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv">1
2
3
4
5
6
7
8</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-nx">x</span><span class="tok-p">,</span> <span class="tok-nx">y</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-nx">x</span> <span class="tok-o">+</span> <span class="tok-nx">y</span>
<span class="tok-p">}</span>

<span class="tok-kr">const</span> <span class="tok-nx">four</span> <span class="tok-o">=</span> <span class="tok-nx">add</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">)</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">four</span><span class="tok-p">)</span>
<span class="tok-c1">// 4</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="passing_functions_as_arguments">4. Passing Functions as Arguments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ve probably seen functions being passed as arguments out in the wild. For example&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">client-side-example</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">alertUser</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Warning!&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-kr">const</span> <span class="tok-nx">button</span> <span class="tok-o">=</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">getElementById</span><span class="tok-p">(</span><span class="tok-s2">&quot;big-red-button&quot;</span><span class="tok-p">)</span>
<span class="tok-nx">button</span><span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s2">&quot;click&quot;</span><span class="tok-p">,</span> <span class="tok-nx">alertUser</span><span class="tok-p">);</span>

<span class="tok-c1">// or</span>
<span class="tok-kr">const</span> <span class="tok-nx">button</span> <span class="tok-o">=</span> <span class="tok-nb">document</span><span class="tok-p">.</span><span class="tok-nx">getElementById</span><span class="tok-p">(</span><span class="tok-s2">&quot;big-red-button&quot;</span><span class="tok-p">)</span>
<span class="tok-nx">button</span><span class="tok-p">.</span><span class="tok-nx">addEventListener</span><span class="tok-p">(</span><span class="tok-s2">&quot;click&quot;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Warning!&quot;</span><span class="tok-p">);</span>
<span class="tok-p">});</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, we might do something like:</p>
</div>
<div class="listingblock">
<div class="title">forEach</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</div></td><td class="code"><span></span><span class="tok-kr">const</span> <span class="tok-nx">numbers</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">];</span>
<span class="tok-kd">let</span> <span class="tok-nx">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>

<span class="tok-kd">function</span> <span class="tok-nx">plusTen</span><span class="tok-p">(</span><span class="tok-nx">num</span><span class="tok-p">){</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-nx">sum</span> <span class="tok-o">+=</span> <span class="tok-p">(</span><span class="tok-nx">num</span> <span class="tok-o">+</span> <span class="tok-mi">10</span><span class="tok-p">)</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-p">}</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-nx">numbers</span><span class="tok-p">.</span><span class="tok-nx">forEach</span><span class="tok-p">(</span><span class="tok-nx">plusTen</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">sum</span><span class="tok-p">)</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a function named <code>plusTen</code> that adds 10 to each number.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The initial value of sum of <em>closed into</em> the <code>plusTen</code> function.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Pass that function as an argument to <code>forEach</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This pattern will be explored in depth later. For now, we just want you to be aware of this as an option</p>
</div>
<div class="sect2">
<h3 id="returning_functions_remembering_scope">4.1. Returning Functions / Remembering Scope</h3>
<div class="paragraph">
<p>Closures are often pull variables from their lexical scope, in order to use those values at a later time. Consider this a memory hack.</p>
</div>
<div class="paragraph">
<p>Also, functions can return inner functions that aren&#8217;t accessible to the outside world.</p>
</div>
<div class="paragraph">
<p>Consider the following example:</p>
</div>
<div class="listingblock">
<div class="title">closures</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">sayHelloGenerator</span><span class="tok-p">(){</span>
  <span class="tok-kr">const</span> <span class="tok-nx">prefix</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Hello &quot;</span><span class="tok-p">;</span> <i class="conum" data-value="1"></i><b>(1)</b>

  <span class="tok-kd">function</span> <span class="tok-nx">hey</span><span class="tok-p">(</span><span class="tok-nx">name</span><span class="tok-p">){</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">return</span> <span class="tok-nx">prefix</span> <span class="tok-o">+</span> <span class="tok-nx">name</span><span class="tok-p">;</span> <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="tok-p">};</span> <i class="conum" data-value="2"></i><b>(2)</b>

  <span class="tok-k">return</span> <span class="tok-nx">hey</span><span class="tok-p">;</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="tok-p">};</span>

<span class="tok-kr">const</span> <span class="tok-nx">sayHey</span> <span class="tok-o">=</span> <span class="tok-nx">sayHelloGenerator</span><span class="tok-p">();</span> <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-kr">const</span> <span class="tok-nx">msg</span> <span class="tok-o">=</span> <span class="tok-nx">sayHey</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bart&quot;</span><span class="tok-p">);</span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">msg</span><span class="tok-p">);</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a variable in the parent function&#8217;s scope</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create an inner function (not visible to the outside scope)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use <code>prefix</code> as an argument. <em>note: we are not supplying a <code>name</code> at this point</em></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Return the inner function body (not invoked)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Assign the <code>sayHelloGenerator</code> function to <code>sayHey</code> variable</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Invoke the <code>sayHey</code> function and <strong>supply a name argument</strong></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="lab_1_define_scope">4.2. Lab 1 - Define Scope</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Write the scope diagram for the code above</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="an_object_oriented_approach_to_closure">5. An Object Oriented approach to closure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Objects can also make use of closures, by pulling in data from their own properties, or the outside scope</p>
</div>
<div class="listingblock">
<div class="title">object-closure</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">generateUser</span><span class="tok-p">(</span><span class="tok-nx">name</span><span class="tok-p">){</span>
  <span class="tok-kr">const</span> <span class="tok-nx">domain</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;@home_depot.com&quot;</span>

  <span class="tok-kr">const</span> <span class="tok-nx">user</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
    <span class="tok-nx">name</span><span class="tok-o">:</span> <span class="tok-nx">name</span><span class="tok-p">,</span>

    <span class="tok-nx">email</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(){</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">name</span> <span class="tok-o">+</span> <span class="tok-nx">domain</span>
    <span class="tok-p">},</span>

    <span class="tok-nx">printEmail</span><span class="tok-o">:</span> <span class="tok-kd">function</span> <span class="tok-p">(){</span>
      <span class="tok-k">return</span> <span class="tok-sb">`</span><span class="tok-si">${</span><span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">name</span><span class="tok-si">}</span><span class="tok-sb">&#39;s email is: </span><span class="tok-si">${</span><span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">email</span><span class="tok-p">()</span><span class="tok-si">}</span><span class="tok-sb">`</span>
    <span class="tok-p">}</span>
  <span class="tok-p">}</span>

  <span class="tok-k">return</span> <span class="tok-nx">user</span>
<span class="tok-p">}</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this pattern can lend itself to rather interesting solutions. For example, let&#8217;s take a look at how a traffic light might work.</p>
</div>
<div class="listingblock">
<div class="title">a-more-complex-example</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">makeTrafficLight</span><span class="tok-p">(</span><span class="tok-nx">name</span><span class="tok-p">)</span> <span class="tok-p">{</span>

  <span class="tok-kd">let</span> <span class="tok-nx">state</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;red&#39;</span><span class="tok-p">;</span>
  <span class="tok-kd">let</span> <span class="tok-nx">light</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
    <span class="tok-nx">name</span><span class="tok-o">:</span> <span class="tok-nx">name</span><span class="tok-p">,</span>
    <span class="tok-nx">getState</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-nx">state</span><span class="tok-p">;</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-p">},</span>
    <span class="tok-nx">next</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">switch</span><span class="tok-p">(</span><span class="tok-nx">state</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-k">case</span> <span class="tok-s1">&#39;red&#39;</span><span class="tok-o">:</span>
          <span class="tok-nx">state</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;green&#39;</span><span class="tok-p">;</span>
          <span class="tok-k">break</span><span class="tok-p">;</span>
        <span class="tok-k">case</span> <span class="tok-s1">&#39;green&#39;</span><span class="tok-o">:</span>
          <span class="tok-nx">state</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;yellow&#39;</span><span class="tok-p">;</span>
          <span class="tok-k">break</span><span class="tok-p">;</span>
        <span class="tok-k">case</span> <span class="tok-s1">&#39;yellow&#39;</span><span class="tok-o">:</span>
          <span class="tok-nx">state</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;red&#39;</span><span class="tok-p">;</span>
          <span class="tok-k">break</span><span class="tok-p">;</span>
        <span class="tok-k">default</span><span class="tok-o">:</span>
          <span class="tok-k">throw</span> <span class="tok-k">new</span> <span class="tok-nb">Error</span><span class="tok-p">(</span><span class="tok-s1">&#39;why is the state = &#39;</span><span class="tok-p">,</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">getState</span><span class="tok-p">());</span>
      <span class="tok-p">}</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">toString</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-nx">name</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; is &#39;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">getState</span><span class="tok-p">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
  <span class="tok-k">return</span> <span class="tok-nx">light</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">let</span> <span class="tok-nx">mainAndFirst</span> <span class="tok-o">=</span> <span class="tok-nx">makeTrafficLight</span><span class="tok-p">(</span><span class="tok-s1">&#39;Main Street and First Ave.&#39;</span><span class="tok-p">);</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">mainAndFirst</span><span class="tok-p">.</span><span class="tok-nx">toString</span><span class="tok-p">());</span>

<span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">let</span> <span class="tok-nx">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-p">;</span> <span class="tok-nx">i</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">4</span><span class="tok-p">;</span> <span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-nx">mainAndFirst</span><span class="tok-p">.</span><span class="tok-nx">next</span><span class="tok-p">();</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">mainAndFirst</span><span class="tok-p">.</span><span class="tok-nx">toString</span><span class="tok-p">());</span>
<span class="tok-p">}</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the state of the light is hidden inside the closure</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>returned object binds to the <code>name</code> and <code>state</code> variables.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We&#8217;ll discuss Object Orientation (in JS) in depth in the next lesson. For now, let&#8217;s get back to functions!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a_function_closure">6. A Function Closure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The key to understanding closure is to know that a function declared in a scope can <strong>ALWAYS</strong> access other variables in that scope.</p>
</div>
<div class="paragraph">
<p><strong>Even when that function is executing outside of the declaring function!</strong></p>
</div>
<div class="listingblock">
<div class="title">JavaScript</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</div></td><td class="code"><span></span><span class="tok-c1">// A Function Closure</span>
<span class="tok-kd">function</span> <span class="tok-nx">makeAdder</span><span class="tok-p">(</span><span class="tok-nx">x</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-c1">// here we create and return a closure that binds to x</span>
  <span class="tok-k">return</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">y</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-nx">x</span> <span class="tok-o">+</span> <span class="tok-nx">y</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">}</span>

<span class="tok-kd">let</span> <span class="tok-nx">add3</span> <span class="tok-o">=</span> <span class="tok-nx">makeAdder</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">);</span>
<span class="tok-kd">let</span> <span class="tok-nx">add100</span> <span class="tok-o">=</span> <span class="tok-nx">makeAdder</span><span class="tok-p">(</span><span class="tok-mi">100</span><span class="tok-p">);</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;  3 + 5 = &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">add3</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">));</span>    <span class="tok-c1">// 8</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;100 + 5 = &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">add100</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">));</span>  <span class="tok-c1">// 105</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;  3 + 7 = &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">add3</span><span class="tok-p">(</span><span class="tok-mi">7</span><span class="tok-p">));</span>    <span class="tok-c1">// 10</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;100 + 7 = &#39;</span> <span class="tok-o">+</span> <span class="tok-nx">add100</span><span class="tok-p">(</span><span class="tok-mi">7</span><span class="tok-p">));</span>  <span class="tok-c1">// 107</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Take 7 minutes and divide the console.logs above your pair and explain what is going on with each one
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">With Strings</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</div></td><td class="code"><span></span><span class="tok-kd">function</span> <span class="tok-nx">onArrival</span><span class="tok-p">(</span><span class="tok-nx">whatAction</span><span class="tok-p">){</span>
  <span class="tok-k">return</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">whatDoor</span><span class="tok-p">){</span>
      <span class="tok-k">return</span> <span class="tok-sb">`</span><span class="tok-si">${</span><span class="tok-nx">whatAction</span><span class="tok-si">}</span><span class="tok-sb"> </span><span class="tok-si">${</span><span class="tok-nx">whatDoor</span><span class="tok-si">}</span><span class="tok-sb">`</span>
  <span class="tok-p">}</span>
<span class="tok-p">}</span>

<span class="tok-kd">let</span> <span class="tok-nx">knock</span> <span class="tok-o">=</span> <span class="tok-nx">onArrival</span><span class="tok-p">(</span><span class="tok-s1">&#39;knock on&#39;</span><span class="tok-p">)</span>

<span class="tok-c1">// locked out</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">knock</span><span class="tok-p">(</span><span class="tok-s1">&#39;front door&#39;</span><span class="tok-p">))</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">knock</span><span class="tok-p">(</span><span class="tok-s1">&#39;back door&#39;</span><span class="tok-p">))</span>

<span class="tok-c1">// found garage door opener</span>
<span class="tok-kd">let</span> <span class="tok-nx">open</span> <span class="tok-o">=</span> <span class="tok-nx">onArrival</span><span class="tok-p">(</span><span class="tok-s1">&#39;open&#39;</span><span class="tok-p">)</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;Garage Door&#39;</span><span class="tok-p">))</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;inner door to kitchen&#39;</span><span class="tok-p">));</span>

<span class="tok-c1">// found spare key</span>
<span class="tok-kd">let</span> <span class="tok-nx">unlock</span> <span class="tok-o">=</span> <span class="tok-nx">onArrival</span><span class="tok-p">(</span><span class="tok-s1">&#39;unlock&#39;</span><span class="tok-p">)</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">unlock</span><span class="tok-p">(</span><span class="tok-s1">&#39;front door&#39;</span><span class="tok-p">))</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">open</span><span class="tok-p">(</span><span class="tok-s1">&#39;front door&#39;</span><span class="tok-p">))</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="encapsulation">7. Encapsulation.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Encapsulation is a software concept where one separates the implementation from the interface that is used by clients.</p>
</div>
<div class="paragraph">
<p>It&#8217;s often good to <strong>hide</strong> the details of how something is being done from outside code, that is the client code.</p>
</div>
<div class="paragraph">
<p>This will reduce the knowledge needed by the client.</p>
</div>
<div class="paragraph">
<p>For example, when we drive our cars we don&#8217;t worry about the specifics of the engine or drive-train. We interface with the car using the gas pedal, brake and steering wheel.</p>
</div>
<div class="paragraph">
<p>The engine and drive-train are part of the car&#8217;s implementation.</p>
</div>
<div class="paragraph">
<p>The gas pedal, brake pedal and steering wheel are the car&#8217;s interface to client, the driver.</p>
</div>
<div class="sect2">
<h3 id="a_code_example">7.1. A code example</h3>
<div class="paragraph">
<p><strong>Create a file <code>js/makePerson.js</code></strong></p>
</div>
<div class="paragraph">
<p>Below is a people factory. Give it a name and an age and it&#8217;ll create a person.
That is, it will create objects that represent a specific person.</p>
</div>
<div class="listingblock">
<div class="title">JavaScript</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</div></td><td class="code"><span></span><span class="tok-c1">// function declaration</span>
<span class="tok-kd">function</span> <span class="tok-nx">square</span><span class="tok-p">(</span><span class="tok-nx">x</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-nx">x</span> <span class="tok-o">*</span> <span class="tok-nx">x</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-kd">function</span> <span class="tok-nx">makePerson</span><span class="tok-p">(</span> <span class="tok-nx">fullName</span><span class="tok-p">,</span> <span class="tok-nx">currentAge</span> <span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kr">const</span> <span class="tok-nx">name</span> <span class="tok-o">=</span> <span class="tok-nx">fullName</span><span class="tok-p">;</span>
  <span class="tok-kr">const</span> <span class="tok-nx">age</span> <span class="tok-o">=</span> <span class="tok-nx">currentAge</span><span class="tok-p">;</span>

  <span class="tok-kr">const</span> <span class="tok-nx">person</span> <span class="tok-o">=</span> <span class="tok-p">{</span>   <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-nx">getName</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span><span class="tok-p">(</span> <span class="tok-nx">name</span> <span class="tok-p">);</span>
    <span class="tok-p">},</span>

    <span class="tok-nx">getAge</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span><span class="tok-p">(</span> <span class="tok-nx">age</span> <span class="tok-o">-</span> <span class="tok-mi">10</span> <span class="tok-p">);</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>

  <span class="tok-k">return</span><span class="tok-p">(</span> <span class="tok-nx">person</span> <span class="tok-p">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-p">}</span>

<span class="tok-c1">// Create a new person instance.</span>
<span class="tok-kr">const</span> <span class="tok-nx">bob</span> <span class="tok-o">=</span> <span class="tok-nx">makePerson</span><span class="tok-p">(</span> <span class="tok-s2">&quot;Bob&quot;</span><span class="tok-p">,</span> <span class="tok-mi">45</span> <span class="tok-p">);</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-c1">// Check to see if the age property exists in a public</span>
<span class="tok-c1">// portion of the person instance.</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Can we access the Bob&#39;s age?&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;age&quot;</span> <span class="tok-k">in</span> <span class="tok-nx">bob</span><span class="tok-p">);</span> <i class="conum" data-value="4"></i><b>(4)</b>

<span class="tok-c1">// Get the age using the accessors.</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Age is (little lie here):&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">bob</span><span class="tok-p">.</span><span class="tok-nx">getAge</span><span class="tok-p">());</span> <i class="conum" data-value="5"></i><b>(5)</b>
</td></tr></table></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We are creating an object literal, <code>{ &#8230;&#8203; }</code>. This will have two properties, getName and getAge. The value for both of these properties are functions. We then assign this object literal to the variable person.</p>
</li>
<li>
<p>We return the <code>person</code> object to the calling function.</p>
</li>
<li>
<p>We use the factory to create a <code>bob</code> person.</p>
</li>
<li>
<p>We check to see if we can access the private variable <code>age</code> outside of the factory function.</p>
<div class="ulist">
<ul>
<li>
<p><strong>We can&#8217;t!</strong> - this is <strong>good!</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>We get Bob&#8217;s age by calling the getAge method. <strong>Of course it lies</strong>. And we&#8217;re hiding the lie!</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note, the interface to the object 'bob' is two functions/methods, getName and getAge. That&#8217;s all that client code needs to know about bob.</p>
</div>
<div class="paragraph">
<p>The implementation are the private variables <code>name</code>, <code>age</code> and the code inside the getName and getAge functions.</p>
</div>
<div class="paragraph">
<p>Client code does <strong>NOT</strong> need to be concerned with implementation details. Only with the interface.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lab_2_scope_and_closure">8. Lab - 2 - Scope and Closure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Work through the Nodeschool <a href="https://github.com/workshopper/scope-chains-closures" target="_blank" rel="noopener">Scope and Closures</a> Exercises.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Follow the steps below for completing the exercise
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a new directory titled <code>nodeschool-exercises</code></p>
</li>
<li>
<p>In the command line, paste the following code:<br></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>docker container run -it --rm -v ${PWD}:/usr/app/nodeschool-exercises shanebarringer/nodeschool-exercises</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Once inside the container</p>
<div class="ulist">
<ul>
<li>
<p>Create a directory named <code>sccjs</code> and <code>cd</code> into it</p>
</li>
<li>
<p>Type <code>sccjs</code> to start the exercises.</p>
</li>
<li>
<p>When finished with a challenge run <code>scope-chains-closures verify &lt;your-file.js&gt;</code>  to verify your solution</p>
</li>
<li>
<p>Then run <code>sscjs</code> again to move on to the next challenge</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>detailed instructions for this exercise can be found <a href="https://hub.docker.com/r/shanebarringer/nodeschool-exercises/" target="_blank" rel="noopener">here</a></em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary">9. Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Closures provide a mechanism for storing the values variables created in the outer scope. Those values are <strong>enclosed</strong> and accessible in any context a function might be used.</p>
</div>
<div class="paragraph">
<p>Additionally, functions can store inner functions as closures. These inner functions will be created only when the outer function is invoked, yet they still have access to all the values of the parent function.</p>
</div>
<div class="paragraph">
<p>Closures provide an excellent means of encapsulation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional_references">10. Additional References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://markdaggett.com/blog/2013/02/25/getting-closure/" target="_blank" rel="noopener">Getting Closure</a></p>
</li>
<li>
<p><a href="http://javascriptissexy.com/understand-javascript-closures-with-ease/" target="_blank" rel="noopener">Understand closures with ease</a></p>
</li>
<li>
<p><a href="http://jibbering.com/faq/notes/closures" target="_blank" rel="noopener">Closure FAQ</a></p>
</li>
<li>
<p><a href="http://www.bennadel.com/blog/2134-a-random-exploration-of-closure-use-cases-in-javascript.htm" target="_blank" rel="noopener">Closure Use Cases</a></p>
</li>
<li>
<p><a href="http://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/" target="_blank" rel="noopener">Everything you wanted to know about JavaScript scope</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
<script defer>
    function createImage(src, alt, title, className) {
        const image = document.createElement('img');
        image.src = src;
        image.alt = alt;
        image.title = title;
        image.classList.add(className);
        return image;
    }

    const thdLogoImg = createImage(
        'images/thd-vivid-orange.jpg',
        'The Home Depot',
        'The Home Depot',
        'thd-logo-img'
    );

    const thdLogoDiv = document.createElement('div');
    thdLogoDiv.classList.add('thd-logo-div');
    thdLogoDiv.appendChild(thdLogoImg);

    const omStackedImg = createImage(
        'images/omstacked.png',
        'Orange Method',
        'Orange Method',
        'om-stacked-img'
    );
    const omStackedDiv = document.createElement('div');
    omStackedDiv.classList.add('om-stacked-div');
    omStackedDiv.appendChild(omStackedImg);

    const container = document.createElement('div');
    container.classList.add('om-toc-container');
    container.appendChild(thdLogoDiv);
    container.appendChild(omStackedDiv);

    const toc = document.getElementById('toc');
    toc.prepend(container);
</script>
</body>
</html>